<!DOCTYPE html>
<html>
<head>
    <link rel='stylesheet' href='https://unpkg.com/maplibre-gl@5.12.0/dist/maplibre-gl.css' />
    <script src='https://unpkg.com/maplibre-gl@5.12.0/dist/maplibre-gl.js'></script>
    <script src="https://unpkg.com/d3@5"></script>
    <script src="https://unpkg.com/d3-sankey@0.12.3"></script>
    <style>
        body { 
            margin: 0; 
            padding: 0}
        #map {
            width: 50%;
            height: 500px;
            margin: auto;
        }
        h1{
            padding: 10px;
            font: bold 50px "Roboto Condensed",sans-serif 
        }
        h2{
            padding: 10px;        
            font: bold 30px "Roboto Condensed",sans-serif 
        }
        h4{
            padding: 10px;
            font: bold 20px "Roboto Condensed",sans-serif 
        }
        p {
            padding: 10px;        
            width:65%;
            font:15px "Roboto Condensed",sans-serif 

        }
        label{
            padding: 10px;  
            font:bold 15px "Roboto Condensed",sans-serif 
 
        }
        #map-legend{
            padding: 10px;        

        }
        li{
            width:65%;
            font: 15px "Roboto Condensed",sans-serif 

        }
        #month-display{
            font: 15px "Roboto Condensed",sans-serif 
        }

    </style>
</head>
<body>
    <h1>Smog City</h1>
    <p> 
        According to the 6th Annual World Air Quality Report, Pakistan was ranked as the second most polluted country in the world, with PM2.5 concentrations approximately 14 times higher than the World Health Organization (WHO) guideline levels (IQAir, 2024). More specifically, Lahore is the second most polluted city in the world (IQAir). Through this project I want to explore how the air quality index (AQI) has changed over time in Lahore and how it changes across different seasons (months).    </p>
        <h4> How is air quality measured?</h4>
    <p> 
        Each circle on the map represents an air quality monitoring station and shows its average monthly value. These values use the U.S. Air Quality Index (AQI).
        Air quality is reported using the AQI, which has six categories that indicate the level of health concern, each represented by a specific color. The AQI is calculated based on measurements of: Particulate matter (PM2.5 and PM10), Ozone, Nitrogen dioxide, Sulfur dioxide, Carbon monoxide.
          
    </p>
<h2>Explore AQI Across Lahore</h2>

    <label  for = 'pick-year'> Pick a year:</label>
    <select name="years" id="pick-year">
        <option value="">--Please choose an option--</option>
        <option value="2018">2018</option>
        <option value="2019">2019</option>
        <option value="2020">2020</option>
        <option value="2021">2021</option>
        <option value="2022">2022</option>
        <option value="2023">2023</option>
        <option value="2024">2024</option>
        <option value="2025">2025</option>
      </select>
      
      <div>
        <label id="month" for="slider">Month:</label>
        <input id="slider" type="range" min="0" max="11" step="1" value="0" />
        <span id="month-display"></span>

      </div>

 
    
    <h4> Map Legend</h4>
    <div class = "map-legend"> 
    <svg width="300" height="60" viewBox="0 0 300 60" xmlns="http://www.w3.org/2000/svg">
        <rect x="0" y="0" width="50" height="60" fill="#478c5c" stroke="black"></rect>
        <text x="25" y="30" font-size="10" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          Good
        </text>
      
        <rect x="50" y="0" width="50" height="60" fill="#fede00" stroke="black"></rect>
        <text x="75" y="30" font-size="10" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          Moderate
        </text>
      
        <rect x="100" y="0" width="50" height="60" fill="#FF7E00" stroke="black"></rect>
        <text font-size="8" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          <tspan x="125" y="25">Unhealthy</tspan>
          <tspan x="125" y="37">for Sensitive</tspan>
        </text>
      
        <rect x="150" y="0" width="50" height="60" fill="#e21b32" stroke="black"></rect>
        <text x="175" y="30" font-size="10" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          Unhealthy
        </text>
      
        <rect x="200" y="0" width="50" height="60" fill="#8F3F97" stroke="black"></rect>
        <text font-size="8" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          <tspan x="225" y="25">Very</tspan>
          <tspan x="225" y="37">Unhealthy</tspan>
        </text>
      
        <rect x="250" y="0" width="50" height="60" fill="#7E0023" stroke="black"></rect>
        <text x="275" y="30" font-size="9" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle" fill="white">
          Hazardous
        </text>
      </svg>
    </div>
                              
    <div id="map"></div>
    <script src="map.js"></script>

    <h2>Explore Emissions By Sector</h2>

<div>
    <embed
    width="1000"
    height="1000"
    src="sankey.html">


</div>


</body>
</html>
